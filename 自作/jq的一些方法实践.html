<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        .v1 {
            height: 300px;
            border-bottom: 1px dashed gray;
        }

        .v2 {
            height: 200px;
            border-bottom: 1px dashed gray;
        }

        .v3 {
            height: 100px;
            border-bottom: 1px dashed gray;
        }
        #box{
            width: 100px;
            height: 100px;
            border: 2px solid blue;
            padding: 10px;
            margin: 15px;
        }
        .wrap{ width:200px;height:200px;margin:40px;position:relative;outline:1px dotted;color:#f00; }
        .wrap>.content{ width:80%;height:80%;margin:10%;color:inherit;outline:1px dashed; }
        .item{ background:#f00; }
    </style>
    <script src="jquery-1.11.3.js"></script>
    <script>
        $(function () {
            $('p').closest().css('borderColor', 'red'); //最近的指定的祖先元素 （）内必须填上条件可选择自身
            $('p').closest('.v1').css('borderColor', 'red');
            $('p').parents('.v1').css('borderBottomStyle', 'solid'); //全部的祖先元素 可不填条件为选择所有父级 不可自身
        })
        var arr = [3, 557, 3535, 96, 3535, 57524, 25, 96, 3];
        var delRe = function (arr) { //利用$.inArray对数组进行去重
            var newArr = [];
            $.each(arr, function (i, item) {
                ($.inArray(item, arr) == i) && (newArr.push(item), true) || console.log(item + ',is repeated..');
            })
            return newArr;
        };
        console.log(delRe(arr));

        $(document).on('keyup',function(e){
            console.log(e.which);  //可以检测按的哪个键
        })

        var quickSort = function(arr){  //利用$.inArray快速排序
            var newArr = [];
            while(arr.length){
                newArr.push(arr.splice($.inArray(Math.max.apply(null,arr),arr),1)[0]);
            }
            return newArr;
        };
        console.log(quickSort(arr));
    </script>
</head>

<body>
    <div class="v1">
        <div class="v2">
            <div class="v3">
                <p>i am a tangerine..</p>
            </div>
        </div>
    </div>
    <div id="box"></div>
    <div class="wrap">
        <div class="content">
            <span class="item">apple</span>
        </div>
    </div>
    <script>
        console.log($('.item').position()); //返回自身距离最近定位父元素的坐标 自身无定位时同样适用 fixed定位时相对于body
        $('.content').data({
            'name':'apple',
        });
        // alert($('.content').data('name'));
        //data()作用跟attr类似，但是在dom上不显示,相当于添加的一个属性
    </script>
    <script>
        (function(){
            var my,$ele,showList,height,innerheight,outerheight;
            $ele = $('#box');
                my = {
                    showHeight: function(){
                        console.log('height: '+$ele.height())  //不包括margin、padding、border等，设置的原始高度
                    },
                    showOuterheight: function(){
                        console.log('outerheight: '+$ele.outerHeight()) //包括padding，border（即能肉眼看见的）可选参数（true）包括margin
                    },
                    showInnerheight: function(){
                        console.log('innerheight: '+$ele.innerHeight())  //包括padding
                    },
                    running: function(){
                        my.showHeight();
                        my.showOuterheight();
                        my.showInnerheight();
                    }
                };
            return my;
        }()).running()
        var getStyle = function(){
            if(window.currentStyle) return function(obj,attr){ return obj.currentStyle[attr] };
            return function(obj,attr){ return getComputedStyle(obj)[attr] };
        }();
        console.log(getStyle($('#box').get(0),'height'));  //原始大小，等同jq的height();
    </script>
    <div class="outer">
    outer
    	<div class="inner">
    	inner
    		<div class="hd">
    		hd
    			<span class="title">
    				title
    			</span>
    		</div>
    	</div>
    </div>
    <script>
    	$('.outer').find('.hd').find('.title').css({
    		'color':'#f00'
    	})
    	//.end() 返回最近的之前一个选择器处( 此处为find('.title')之前的find('.hd') ) 如果不是('.hd'),应该除去title全绿
    	.end()
    	.css({
    		'color':'#0f0'
    	})
    	$('.outer').on('click',function(){ alert(1); })
    			   .get(0).onclick = function(){ alert(2); };
	    $('.outer').get(0).onclick = function(){ alert(3); };
	    //jq 增加的事件和原生事件可以共存 但是原生增加的事件会产生覆盖 jq则不会
        //此特性可用于点击一个按钮弹出层里面的按钮的事件绑定

        var openNewWin = function(){

             var a = $("<a href='http://www.test.com' target='_blank' >test</a>").get(0);
             var e = document.createEvent('MouseEvents');
             e.initEvent('click', true, true);
             a.dispatchEvent(e);
        };
        setTimeout(openNewWin,3000);
    </script>
    <div class="parentNode"></div>
    <script>
    //创建一个元素并设置其的属性
        $('.parentNode').append(
            $('<div>',{
                id: 'y_childNode',
                class: 'childNode-item',
                html: 'i am a childNode'
            })
        );

        function fetch(options)
                 {
                    return $.ajax({
                        type: options.type || 'POST',
                        url: options.url || '',
                        data: options.data || {}
                    });
                 };
        function parseDate(d)
                 {
                    if(!d.length) d=[{'name': 'apple'}];
                    return d;
                 };
        function dealError(d)
                 {
                    console.log(d);
                    createDOM([{'name': 'apple'}]);
                 };
        function createDOM(d)
                 {
                    var tlp = '<span>#{name}</span>',
                        Html = '',
                        formTlp = function(tlp,deal,data){

                            return tlp.replace(/#\{(.*?)\}/g, function($,$1){
                                if($1 in deal)
                                    if(typeof deal[$1]=='function')
                                        return deal[$1]();
                                else
                                    return deal[$1];

                                return $1 in data ? data[$1] : '';
                            })
                        },
                        handleDOM = function(){
                            Html += formTlp(tlp,{
                                name: 'I am ' + (function(name){
                                                    return /^a/.test.name ? 'an ' : 'a '
                                                })(this.name) + this.name
                            },{})
                        };

                        $.each(d,handleDOM);
                        $('body').append(Html);
                 };
        fetch({
            url: 'www.baidu.com',
            data: { 'name': 'apple' }
        }).then(parseDate,dealError)
          .then(createDOM);
          //ajax 错误不进入createDOM 不知道成功能否会进入 待测试

          var a = [1, 2, 3, 4];
          $.each(a, function(){
            if(this == 2) return false;  //false 或者 只有return 跳出循环 return true 跳出本次 相当于continue
            console.log('This Is ' + this);
          })
          a.forEach(function(i){
            if(i == 2) return true;  //return 总是跳出本次 总是相当于continue
            console.log('forEach This Is ' + i);
          })
    </script>

	<style type="text/css">
	.box1, .box2{ margin-top: 100px;width: 100px;line-height: 24px;box-shadow: 0 0 2px rgba(0, 0, 0, .5); }
	div > span{ cursor: pointer;background: rgba(0, 0, 0, .2); }
	</style>

    <div class="box1">
    	<span>i am span1, and you?</span>
    </div>

    <div class="box2">
    	<span>i am span2, and you?</span>
    </div>

	<script type="text/javascript">
		var $oSpan1 = $('.box1 > span'),
			$oSpan2 = $('.box2 > span');

		function handlerMove()
		{
			var $this = $(this);
			$oSpan2.parent().append($this);
		};
		$oSpan1.on('click', handlerMove);
		//点击无需删除原来 直接将其移动即可
	</script>

</body>

</html>