<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>temp</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>


<script>
	var formatTpl=function(tpl, stub, data) {

			return tpl.replace(/#\{(.*)\}/g,function($,$1){

			    if($1 in stub)
			    	if(~Object.prototype.toString.call(stub[$1]).toLowerCase().indexOf('function'))
			    		return stub[$1]();
			    	else
			    		return stub[$1];

		    	return $1 in data ? data[$1] : '';
			})
		},
		tempHtm='<ul>' +
					'<li>#{item}</li>'
				'</ul>'
		,
		data={
			arr:[ 'one','two','three','four','five' ]
		};
	var Html='';
	data.arr.forEach(function(item,index){

		Html+=formatTpl(tempHtm, {
			item : function(){
				return 'This Is '+item;
			}
		},{})
	})
	console.log(Html);
	var Html2='';
	data.arr.forEach(function(item,index){

		Html2+=formatTpl(tempHtm, {}, {
			item: '这里是 '+item
		})
	})
	console.log(Html2)
	// #{ word } 中的word和第二个参数的 key一致 或者与第三个参数的key一直(区别在于第二个参数可以设置为函数然后返回值)
</script>
</body>
</html>